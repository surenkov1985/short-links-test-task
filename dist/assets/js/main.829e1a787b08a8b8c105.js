!function(){var e,t={8898:function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var n="http://79.143.31.216/",r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return fetch(n+e,{method:r,body:t,headers:o}).then((function(e){return e.json()}))};document.addEventListener("DOMContentLoaded",(function(){var t="asc_short",n=document.getElementById("loginForm"),o=document.getElementById("registerForm"),a=document.getElementById("squeezeForm"),c=(document.getElementById("statisticForm"),document.getElementById("redirectForm"),document.querySelector(".loginPage")),i=document.querySelector(".registerPage"),l=document.querySelector(".indexPage"),s=document.querySelector(".statisticsPage"),u=document.querySelectorAll(".loginBtn"),d=document.querySelectorAll(".registerBtn"),m=document.querySelector(".outBtn");localStorage.hasOwnProperty("user")&&(s.classList.toggle("active"),l.classList.toggle("active")),m.addEventListener("click",(function(){localStorage.removeItem("user"),s.classList.toggle("active"),l.classList.toggle("active")}));var f=function(t,n,o){var a={order:t,offset:n,limit:o};console.log(a);var c=new URLSearchParams(e(Object.entries(a))).toString(),i=JSON.parse(localStorage.getItem("user")),l={"Content-Type":"application/json",Authorization:i.token_type+" "+i.access_token};r("statistics?".concat(c),null,"GET",l).then((function(e){return v(e)})).catch((function(e){return console.log(e)}))},v=function(e){var t=document.querySelector(".statisticListHead"),n=document.createElement("ul");n.className="statisticList",t.innerHTML="",e.map((function(e){var t=document.createElement("li"),r=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div");r.className="linkEl",o.className="shortEl",a.className="counterEl",t.className="statisticItem",o.innerHTML=e.short,r.innerHTML=e.target,a.innerHTML=e.counter,t.appendChild(r),t.appendChild(o),t.appendChild(a),n.appendChild(t)})),t.appendChild(n)};f(t,"0","5"),u.forEach((function(e){e.addEventListener("click",(function(){localStorage.hasOwnProperty("user")||(l.classList.remove("active"),i.classList.remove("active"),c.classList.toggle("active"))}))})),d.forEach((function(e){e.addEventListener("click",(function(){localStorage.hasOwnProperty("user")||(l.classList.remove("active"),c.classList.remove("active"),i.classList.toggle("active"))}))})),null==n||n.addEventListener("submit",(function(o){o.preventDefault();var a=n.querySelector('[name="username"]'),i=n.querySelector('[name="password"]'),l=new FormData(n);console.log(l.get("password"));var u={username:a.value,password:i.value},d=new URLSearchParams(e(Object.entries(u))).toString();r("login",d,"POST",{"Content-Type":"application/x-www-form-urlencoded"}).then((function(e){localStorage.setItem("user",JSON.stringify(e)),c.classList.remove("active"),s.classList.toggle("active"),f(t,"0","5")})).catch((function(e){return console.log(e)}))})),null==o||o.addEventListener("submit",(function(t){t.preventDefault();var n=o.querySelector('[name="username"]'),a=o.querySelector('[name="password"]'),c={username:n.value,password:a.value},l=new URLSearchParams(e(Object.entries(c))).toString();r("register?".concat(l),JSON.stringify(c),"POST",{"Content-Type":"application/json"}).then((function(e){r("login",l,"POST",{"Content-Type":"application/x-www-form-urlencoded"}).then((function(e){localStorage.setItem("user",JSON.stringify(e)),i.classList.remove("active"),s.classList.toggle("active")})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))})),null==a||a.addEventListener("submit",(function(n){n.preventDefault();var o={link:a.querySelector('[name="link"]').value},c=new URLSearchParams(e(Object.entries(o))).toString(),i=JSON.parse(localStorage.getItem("user")),l={"Content-Type":"application/json",Authorization:i.token_type+" "+i.access_token};r("squeeze?".concat(c),null,"POST",l).then((function(e){return f(t,"0","5")})).catch((function(e){return console.log(e)}))}))}))},7723:function(e,t,n){"use strict";n(8898)}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={id:e,loaded:!1,exports:{}};return t[e](a,a.exports,r),a.loaded=!0,a.exports}r.m=t,e=[],r.O=function(t,n,o,a){if(!n){var c=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],a=e[u][2];for(var i=!0,l=0;l<n.length;l++)(!1&a||c>=a)&&Object.keys(r.O).every((function(e){return r.O[e](n[l])}))?n.splice(l--,1):(i=!1,a<c&&(c=a));if(i){e.splice(u--,1);var s=o();void 0!==s&&(t=s)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,o,a]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e={179:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,a,c=n[0],i=n[1],l=n[2],s=0;if(c.some((function(t){return 0!==e[t]}))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(l)var u=l(r)}for(t&&t(n);s<c.length;s++)a=c[s],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(u)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),r.O(void 0,[5],(function(){return r(6005)}));var o=r.O(void 0,[5],(function(){return r(7723)}));o=r.O(o)}();